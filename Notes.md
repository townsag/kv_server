- create a server struct instance, it is similar to a fastapp app object
    - give the server struct instance a handler function which is a ServeMux object
    - handler can be wrapped with middleware
- consider the fat service pattern when I want to structure the app better:
    - [fat-service-link-alex-edwards](https://www.alexedwards.net/blog/the-fat-service-pattern)
- packages are directories with go code in them, they are meant to organize your code within a module
- modules are collections of packages with dependency management

- goals:
    - structured logging
        - request id
        - log level
        - log events at the application level like adding or removing key value pairs
    - observability
        - logs
        - metrics
            - prometheus
                - histogram: request latency
                - counter: total requests
                - gauge: num concurrently served requests
        - tracing
            - jaeger
                - span for each request
    - maintainability:
        - use openapi for better documentation:
            - check out: https://github.com/danielgtaylor/huma
        - test automation
            - correctness tests at kv store level
            - correctness tests at application level
            - performance test at application level
    - correctness:
        - property testing at application level
            - check out this: https://github.com/flyingmutant/rapid
    - performance:
        - high degree of parallelism?

- TODO:
    - modify logging middleware to allow the log level to be changed programmatically and set with a constant
    - add the option to persist to the disk
        - use pebble: https://github.com/cockroachdb/pebble
    - add single leader replication with raft
    - add read only nodes

- look into viper for configuration management

- Long term goals:
    - distributed fault tolerant key value store
    - backed by WAL and Disk
        - use bbolt
        - learn what the write path is 
        - https://learnk8s.io/etcd-kubernetes
        - learn what the WAL is
        - https://claude.ai/chat/fbbea05b-7586-4e9c-9785-dbaed55b3e44